(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},o=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"190c":function(t,e,a){"use strict";a("277d")},"273d":function(t,e,a){"use strict";a("6504")},"277d":function(t,e,a){},3508:function(t,e,a){"use strict";a("6faf")},"38a7":function(t,e,a){},4678:function(t,e,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return a(e)}function o(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n,r,o,i,s=a("2b0e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("base-container")],1)},c=[],u=a("5530"),d=a("2f62"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.getAppInfo.modal?a("app-info-modal"):t._e(),a("div",{staticClass:"flex bg-gray-50"},[a("left-container"),a("center-container"),a("right-container")],1)],1)},m=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-col w-full h-screen"},[a("div",{staticClass:"h-full relative"},[t.getComponentStatus.mapComponent?a("map-container"):t._e(),1===t.getStatus?a("div",{staticClass:"absolute top-2 right-16 bg-white bg-opacity-70 rounded-md px-2 py-1",staticStyle:{"z-index":"1500"}},[t._m(0)]):t._e(),a("div",{staticClass:"absolute top-2 right-2 bg-white bg-opacity-70 rounded-md",staticStyle:{"z-index":"1500"}},[a("div",{staticClass:"flex flex-row items-center"},[a("button",{staticClass:"flex items-end relative hover:bg-gray-200 rounded px-1 py-0.5",on:{click:function(e){t.dropdownInfo=!t.dropdownInfo}}},[a("unicon",{staticClass:"m-1",attrs:{name:"sort-amount-down",fill:"gray",width:"20px"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dropdownInfo,expression:"dropdownInfo"}],staticClass:"fixed inset-0 h-screen w-screen z-10",on:{click:function(e){t.dropdownInfo=!1}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dropdownInfo,expression:"dropdownInfo"}],staticClass:"absolute top-12 right-0 w-48 bg-white bg-opacity-70 rounded-md overflow-hidden shadow-lg z-20"},[a("button",{staticClass:"block px-4 py-3 font-medium text-gray-800 border-b",on:{click:t.toggleAppInfoModal}},[t._v(" About me ")]),a("a",{staticClass:"block px-4 py-3 text-sm text-gray-800 hover:bg-gray-200",attrs:{href:"https://github.com/greppo-io/greppo",target:"_blank"}},[t._v("Made with Greppo")]),a("a",{staticClass:"block px-4 py-3 text-sm text-gray-800 hover:bg-gray-200",attrs:{href:"https://docs.greppo.io/",target:"_blank"}},[t._v("Greppo docs")]),a("a",{staticClass:"block px-4 py-3 text-sm text-gray-800 border-t hover:bg-gray-200",attrs:{href:"https://greppo.io/",target:"_blank"}},[t._v("greppo.io")])])])]),t._m(1)],1)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex flex-row items-center"},[a("div",{staticClass:"text-center text-gray-700"},[a("div",{staticClass:"flex flex-row mt-1 p-0.5 items-center"},[a("div",{staticClass:"flex justify-center items-center"},[a("div",{staticClass:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-red-600"}),a("div",{staticClass:"animate-ping absolute inline-flex h-12 w-12 rounded-full bg-red-400 opacity-75"})]),a("p",{staticClass:"text-sm ml-2"},[t._v("Evaluating !")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"absolute bottom-0 right-2 bg-white bg-opacity-70 rounded-t-md px-2 pt-1 pb-2",staticStyle:{"z-index":"1500"}},[n("div",{staticClass:"flex flex-row items-center"},[n("div",{staticClass:"text-center text-gray-700"},[n("p",{staticStyle:{"font-size":"0.70em"}},[t._v("made with")]),n("a",{staticClass:"flex flex-row mt-1 items-center",attrs:{href:"https://greppo.io",target:"_blank"}},[n("img",{staticClass:"mx-1",attrs:{src:a("9b19"),width:"20px"}}),n("p",{staticClass:"text-base mx-1"},[t._v("Greppo")])])])])])}],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"h-full w-full"},[a("l-map",{ref:"lmap",attrs:{center:t.center,zoom:t.zoom,maxZoom:25}},[t.getComponentStatus.baseLayer?a("base-layer"):t._e(),t.getComponentStatus.tileLayer?a("div",t._l(t.getTileLayerData,(function(t){return a("tile-layer",{key:t.id,attrs:{layerData:t}})})),1):t._e(),t.getComponentStatus.wmstileLayer?a("div",t._l(t.getWMSTileLayerData,(function(t){return a("wms-tile-layer",{key:t.id,attrs:{layerData:t}})})),1):t._e(),t.getComponentStatus.vectorLayer?a("div",t._l(t.getVectorLayerData,(function(t){return a("vector-layer",{key:t.id,attrs:{layerData:t}})})),1):t._e(),t.getComponentStatus.imageLayer?a("div",t._l(t.getImageLayerData,(function(t){return a("image-layer",{key:t.id,attrs:{imageData:t}})})),1):t._e(),t._e(),a("l-control",{staticClass:"leaflet-bar",attrs:{position:"topleft"}},[a("a",{staticClass:"control-icon",attrs:{role:"button",title:"Reset view"},on:{click:t.resetViewHandler}},[a("unicon",{staticClass:"align-middle",attrs:{name:"estate",fill:"black",width:"22px",height:"22px"}})],1)]),t.getComponentStatus.drawFeature?a("draw-feature"):t._e()],1)],1)},g=[],y=(a("d3b7"),a("159b"),a("2699")),v=a("9ee8"),w=a("2253"),C=(a("6cc5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-geo-json",{attrs:{name:t.layerData.name,geojson:t.layerData.data,options:t.options,visible:t.getLayerVisibility.bind(this,t.layerData.id)(),"layer-type":"overlay"}})}),D=[],j=a("044a"),_={name:"VectorLayer",props:{layerData:Object},components:{LGeoJson:j["a"]},computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getLayerVisibility"])),{},{options:function(){return{onEachFeature:this.onEachFeatureFunction,pointToLayer:this.pointToLayerFunction,style:this.styleFunction}},pointToLayerFunction:function(){return function(t,e){return window.L.circleMarker(e)}},styleFunction:function(){var t=this;return function(){return{color:t.layerData.style.fillColor,opacity:1,weight:2,fillColor:t.layerData.style.fillColor,fillOpacity:.7,radius:3}}},onEachFeatureFunction:function(){return function(t,e){if(t.properties){var a="<div>";for(var n in t.properties)a+='<p style="margin: 5px 10px;"><span style="font-weight:500;">'+n+"</span>:  "+t.properties[n]+"</p>";a+="</div>",e.bindTooltip(a,{permanent:!1,sticky:!0})}}}})},x=_,O=a("2877"),L=Object(O["a"])(x,C,D,!1,null,null,null),I=L.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.getBaseLayerData,(function(t){return a("l-tile-layer",{key:t.name,attrs:{name:t.name,visible:t.visible,url:t.url,attribution:t.attribution,"layer-type":"base"}})})),1)},S=[],E=a("a40a"),F={name:"BaseLayer",components:{LTileLayer:E["a"]},computed:Object(d["c"])(["getBaseLayerData"])},A=F,M=Object(O["a"])(A,k,S,!1,null,null,null),V=M.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-tile-layer",{attrs:{name:t.layerData.name,url:t.layerData.url,opcaity:t.layerData.opcaity,subdomains:t.layerData.subdomains,attribution:t.layerData.attribution,visible:t.getLayerVisibility.bind(this,t.layerData.id)(),"layer-type":"overlay"}})},B=[],z={name:"TileLayer",props:{layerData:Object},components:{LTileLayer:E["a"]},computed:Object(u["a"])({},Object(d["c"])(["getLayerVisibility"]))},T=z,P=Object(O["a"])(T,$,B,!1,null,null,null),N=P.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-wms-tile-layer",{attrs:{"base-url":t.layerData.url,layers:t.layerData.layers,visible:t.layerData.visible,opacity:t.layerData.opacity,subdomains:t.layerData.subdomains,name:t.layerData.name,attribution:t.layerData.attribution,transparent:t.layerData.transparent,format:t.layerData.format,"layer-type":"overlay"}})},R=[],W=a("e71e"),H={name:"WMSTileLayer",props:{layerData:Object},components:{"l-wms-tile-layer":W["a"]},computed:Object(u["a"])({},Object(d["c"])(["getLayerVisibility"]))},J=H,U=Object(O["a"])(J,G,R,!1,null,null,null),q=U.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"none"}})},K=[],Q=(a("caad"),a("2532"),a("c740"),a("b64b"),a("20d6"),a("5fbf"),new s["a"]),X={name:"DrawFeature",data:function(){return{featureGroup:null,mapObject:null,activeDrawFeatureID:null,activeGeometry:[],drawControl:null}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setDrawFeatureDrawn","addDrawFeature","editDrawFeature","deleteDrawFeature"])),{},{toggleDrawTools:function(){this.drawControl&&this.mapObject.removeControl(this.drawControl);var t=window.L.Icon.extend({options:{shadowUrl:null,iconAnchor:[12,24],iconSize:[24,24],iconUrl:a("bd03")}}),e=!!this.activeGeometry.includes("Point")&&{icon:new t},n=!!this.activeGeometry.includes("LineString")&&{allowIntersection:!1,showArea:!0,shapeOptions:{color:"#333333",weight:3}},r=!!this.activeGeometry.includes("Polygon")&&{allowIntersection:!1,drawError:{color:"#e1e100",message:"<strong>Polygon draw does not allow intersections!<strong> (allowIntersection: false)"},shapeOptions:{color:"#333333",weight:3}},o={position:"topleft",draw:{polyline:n,polygon:r,circle:!1,rectangle:!1,marker:e,circlemarker:!1},edit:{featureGroup:this.featureGroup,remove:!0,edit:!0}},i=new window.L.Control.Draw(o);this.mapObject.addControl(i),this.drawControl=i},mountActiveDrawFeature:function(){var t=this,e=this.getDrawFeatureData,a=e.findIndex((function(t){return!0===t.active}));-1!==a?(this.activeDrawFeatureID=e[a].id,this.activeGeometry=e[a].geometry,this.toggleDrawTools(),this.featureGroup.clearLayers(),e[a].featuresDrawn.forEach((function(e){t.featureGroup.addLayer(e.layer)}))):console.log("Log error, DrawFeature.vue")},initializeDrawFeatureDrawn:function(){var t=window.L.icon({shadowUrl:null,iconAnchor:[12,24],iconSize:[24,24],iconUrl:a("bd03")}),e=[],n=this.getDrawFeatureData;n.forEach((function(a){var n=[];a.features.forEach((function(e){var a=[],r=e.type,o={};e.latlngs.forEach((function(t){a.push([t.lat,t.lng])})),"Polygon"==r&&(o=window.L.polygon(a)),"LineString"==r&&(o=window.L.polyline(a)),"Point"==r&&(o=window.L.marker(a[0],{icon:t}));var i={id:window.L.stamp(o),type:r,latlngs:e.latlngs,layer:o};n.push(i)})),e.push({drawFeatureID:a.id,featuresDrawn:n})})),this.setDrawFeatureDrawn(e)}}),computed:Object(u["a"])({},Object(d["c"])(["getDrawFeatureData"])),created:function(){var t=this;Q.$on("changeDrawFeatureLayer",(function(){t.mountActiveDrawFeature()})),Q.$on("reInitializeDrawFeature",(function(){t.initializeDrawFeatureDrawn(),t.mountActiveDrawFeature()}));var e=this.$parent.$parent.$refs.lmap.mapObject,a=new window.L.FeatureGroup;e.addLayer(a),this.mapObject=e,this.featureGroup=a,window.L.Edit.Poly=window.L.Edit.Poly.extend({options:{icon:new window.L.DivIcon({iconSize:new window.L.Point(10,10),className:"leaflet-div-icon leaflet-editing-icon my-own-icon"})}})},mounted:function(){this.$nextTick((function(){var t=this;this.initializeDrawFeatureDrawn(),this.mountActiveDrawFeature(),this.mapObject.on("draw:created",(function(e){var a=e.layerType,n=e.layer,r=[],o="";"polygon"==a&&(o="Polygon",n._latlngs[0].forEach((function(t){r.push({lat:t.lat,lng:t.lng})}))),"polyline"==a&&(o="LineString",n._latlngs.forEach((function(t){r.push({lat:t.lat,lng:t.lng})}))),"marker"==a&&(o="Point",r.push({lat:n._latlng.lat,lng:n._latlng.lng}));var i={id:window.L.stamp(n),type:o,latlngs:r,layer:n};t.featureGroup.addLayer(n),t.addDrawFeature({newFeature:i,drawFeatureID:t.activeDrawFeatureID})})),this.mapObject.on("draw:edited",(function(e){var a=e.layers._layers,n=[];Object.keys(a).forEach((function(t){var e=a[t],r=[];e._latlngs&&(e._latlngs.length>1&&e._latlngs.forEach((function(t){r.push({lat:t.lat,lng:t.lng})})),1==e._latlngs.length&&e._latlngs[0].forEach((function(t){r.push({lat:t.lat,lng:t.lng})}))),e._latlng&&r.push({lat:e._latlng.lat,lng:e._latlng.lng}),n.push({id:window.L.stamp(e),latlngs:r,layer:e})})),t.editDrawFeature({editFeatures:n,drawFeatureID:t.activeDrawFeatureID})})),this.mapObject.on("draw:deleted",(function(e){var a=e.layers._layers,n=[];Object.keys(a).forEach((function(t){var e=a[t],r=[];e._latlngs&&(e._latlngs.length>1&&e._latlngs.forEach((function(t){r.push({lat:t.lat,lng:t.lng})})),1==e._latlngs.length&&e._latlngs[0].forEach((function(t){r.push({lat:t.lat,lng:t.lng})}))),e._latlng&&r.push({lat:e._latlng.lat,lng:e._latlng.lng}),n.push({id:window.L.stamp(e),latlngs:r})})),t.deleteDrawFeature({deleteFeatures:n,drawFeatureID:t.activeDrawFeatureID})}))}))}},Y=X,tt=(a("c229"),Object(O["a"])(Y,Z,K,!1,null,null,null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-image-overlay",{attrs:{name:t.imageData.name,url:t.imageData.url,bounds:t.imageData.bounds,visible:t.getLayerVisibility.bind(this,t.imageData.id)(),"layer-type":"overlay"}})},nt=[],rt=a("e464"),ot={name:"ImageLayer",components:{LImageOverlay:rt["a"]},props:{imageData:Object},computed:Object(u["a"])({},Object(d["c"])(["getLayerVisibility"]))},it=ot,st=Object(O["a"])(it,at,nt,!1,null,null,null),lt=st.exports,ct=function(t){return t.reduce((function(t,e){return t+e}))/t.length},ut={name:"CenterContainer",components:{LMap:y["a"],LControlLayers:v["a"],LControl:w["a"],BaseLayer:V,TileLayer:N,VectorLayer:I,DrawFeature:et,ImageLayer:lt,"wms-tile-layer":q},data:function(){return{zoom:3,center:[0,0],layerData:null}},methods:{resetViewHandler:function(){var t=[],e=[],a=[],n=[];this.getOverlayLayerInfo.forEach((function(r){r.visible&&r.bounds.length&&(t.push(r.bounds[0][0]),e.push(r.bounds[0][1]),a.push(r.bounds[1][0]),n.push(r.bounds[1][1]))}));var r=[[ct(t),ct(e)],[ct(a),ct(n)]];this.$refs.lmap.mapObject.fitBounds(r)},resetMapContainerSize:function(){var t=this;setTimeout((function(){return t.$refs.lmap.mapObject.invalidateSize()}),10)}},computed:Object(u["a"])({},Object(d["c"])(["getTileLayerData","getWMSTileLayerData","getVectorLayerData","getImageLayerData","getOverlayLayerInfo","getComponentStatus"])),mounted:function(){var t=this;this.$nextTick((function(){t.$refs.lmap.mapObject.attributionControl.setPosition("bottomleft"),t.resetViewHandler()}))},created:function(){var t=this;Q.$on("fitOverlayBounds",(function(e){t.$refs.lmap.mapObject.fitBounds(e)})),Q.$on("resetMapContainerSize",(function(){setTimeout((function(){return t.$refs.lmap.mapObject.invalidateSize()}),10)}))}},dt=ut,pt=(a("a272"),Object(O["a"])(dt,b,g,!1,null,null,null)),mt=pt.exports,ft={name:"CenterContainer",components:{MapContainer:mt},data:function(){return{dropdownInfo:!1}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setAppInfo"])),{},{toggleAppInfoModal:function(){this.dropdownInfo=!this.dropdownInfo,this.setAppInfo({modal:!0})}}),computed:Object(u["a"])({},Object(d["c"])(["getStatus","getComponentStatus"]))},ht=ft,bt=Object(O["a"])(ht,f,h,!1,null,null,null),gt=bt.exports,yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex relative"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.leftContainerOpen,expression:"leftContainerOpen"}],staticClass:"flex flex-col h-screen sidebar sidebar-width"},[a("div",{staticClass:"bg-white flex justify-between p-3"},[a("div",[t.getInputMutation?a("button",{staticClass:"focus:outline-none bg-red-600 hover:bg-red-500 rounded text-white px-4 py-1.5 text-xs cursor-pointer",on:{click:t.postAPI}},[t._v(" reevaluate ")]):t._e(),t.getInputMutation?t._e():a("button",{staticClass:"focus:outline-none bg-gray-200 rounded text-gray-400 px-4 py-1.5 text-xs cursor-not-allowed",attrs:{disabled:""}},[t._v(" reevaluate ")])]),a("div",[a("button",{staticClass:"focus:outline-none bg-gray-100 hover:bg-gray-200 rounded",on:{click:t.toggleAppInfoModal}},[a("unicon",{staticClass:"pt-1 px-1.5",attrs:{name:"info-circle",fill:"gray",width:"20px"}})],1)])]),a("div",{staticClass:"relative px-3 bg-white h-full overflow-auto"},[t.getAppInfo.title?a("p",{staticClass:"font-medium text-2xl"},[t._v(t._s(t.getAppInfo.title))]):t._e(),a("layer-control",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]}),t.getComponentStatus.drawFeature?a("draw-feature-control"):t._e(),t._l(t.getInputComponentInfo,(function(t){return a("div",{key:t.id},[a("input-control",{attrs:{data:t}}),a("chart-control",{attrs:{data:t}}),a("display-control",{attrs:{data:t}})],1)}))],2)]),a("div",{staticClass:"sidebar-control h-8 w-4 bg-gray-700 mt-2 -mr-4 absolute top-0 right-0 flex items-center rounded-tr rounded-br justify-center cursor-pointer",on:{click:t.toggleLeftContainer}},[a("unicon",{directives:[{name:"show",rawName:"v-show",value:t.leftContainerOpen,expression:"leftContainerOpen"}],attrs:{name:"angle-left",fill:"white"}}),a("unicon",{directives:[{name:"show",rawName:"v-show",value:!t.leftContainerOpen,expression:"!leftContainerOpen"}],attrs:{name:"angle-right",fill:"white"}})],1)])},vt=[],wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.getComponentStatus.baseLayer||t.getComponentStatus.overlayLayer?a("div",{staticClass:"block my-5 border-2 rounded",class:t.collapse?"border-white":"border-gray-100"},[a("div",{staticClass:"flex flex-row justify-between items-center cursor-pointer bg-gray-100 rounded px-3 py-3 transition-all duration-500",on:{click:function(e){t.collapse=!t.collapse}}},[a("p",[t._v("Layer control")]),a("span",{staticClass:"fill-current h-6 w-6 transform transition-transform duration-500",class:t.collapse?"rotate-0":"rotate-180"},[a("unicon",{class:t.collapse?"animate-bounce":"",attrs:{name:"angle-down",fill:"black"}})],1)]),a("div",{staticClass:"overflow-hidden transition-all duration-500 pl-5 pt-2 pr-2",class:t.collapse?"max-h-0":"max-h-96"},[t.getComponentStatus.baseLayer?a("div",{class:t.getComponentStatus.baseLayer&&t.getComponentStatus.overlayLayer?"mb-5":"mb-3"},[a("label",{staticClass:"block"},[a("span",{staticClass:"text-gray-700"},[t._v("Base layer control")]),a("base-layer-control")],1)]):t._e(),t.getComponentStatus.overlayLayer?a("div",[a("div",{staticClass:"block overflow-auto max-h-72"},[a("span",{staticClass:"text-gray-700"},[t._v("Overlay layer control")]),t._l(t.getOverlayLayerInfo,(function(t){return a("overlay-layer-control",{key:t.id,attrs:{layerData:t}})}))],2)]):t._e()])]):t._e()},Ct=[],Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-gray-100 text-black px-4 py-2 border-l-4 my-1 relative",class:t.layerData.visible?"border-active":"border-gray-400",style:t.cssVars},[a("div",{staticClass:"flex"},[a("div",{staticClass:"flex-grow"},[a("p",{staticClass:"text-lg"},[t._v(t._s(t.layerData.name))])]),a("div",{staticClass:"flex-none pl-4"},[t.layerData.bounds.length?a("button",{staticClass:"mr-2",on:{click:t.zoomToOverlay}},[a("unicon",{staticClass:"align-middle",attrs:{name:"search-plus",fill:"black",width:"19px",height:"19px"}})],1):t._e(),a("toggle-button",{attrs:{color:this.layerData.color,labels:{checked:"On",unchecked:"Off"}},model:{value:t.modelValue,callback:function(e){t.modelValue=e},expression:"modelValue"}})],1)]),a("p",{staticClass:"text-sm my-2"},[t._v(t._s(t.layerData.description))])])},jt=[],_t={name:"OverlayLayerControl",props:{layerData:Object},data:function(){return{visible:!1}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setOverlayLayerVisibility"])),{},{zoomToOverlay:function(){Q.$emit("fitOverlayBounds",this.layerData.bounds)}}),computed:{cssVars:function(){return{"--border-color":this.layerData.color}},modelValue:{get:function(){return this.layerData.visible},set:function(t){this.setOverlayLayerVisibility({id:this.layerData.id,visible:t})}}}},xt=_t,Ot=(a("273d"),Object(O["a"])(xt,Dt,jt,!1,null,"76fc8112",null)),Lt=Ot.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedBaseLayer,expression:"selectedBaseLayer"}],staticClass:"form-select block w-full mt-1 rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedBaseLayer=e.target.multiple?a:a[0]}}},t._l(t.getBaseLayerData,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])},kt=[],St=(a("7db0"),{name:"BaseLayerControl",methods:Object(u["a"])({},Object(d["b"])(["setBaseLayerVisibility"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getBaseLayerData"])),{},{selectedBaseLayer:{get:function(){return this.getBaseLayerData.find((function(t){return 1==t.visible})).id},set:function(t){this.setBaseLayerVisibility(t)}}})}),Et=St,Ft=Object(O["a"])(Et,It,kt,!1,null,null,null),At=Ft.exports,Mt={name:"LayerControl",components:{OverlayLayerControl:Lt,BaseLayerControl:At},data:function(){return{collapse:!0}},computed:Object(u["a"])({},Object(d["c"])(["getOverlayLayerInfo","getComponentStatus"]))},Vt=Mt,$t=Object(O["a"])(Vt,wt,Ct,!1,null,null,null),Bt=$t.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["Number"==t.data.type?a("number-input",{attrs:{id:t.data.id,name:t.data.name}}):t._e(),"Text"==t.data.type?a("text-input",{attrs:{id:t.data.id,name:t.data.name}}):t._e(),"Select"==t.data.type?a("select-input",{attrs:{id:t.data.id,name:t.data.name,options:t.data.options}}):t._e(),"Multiselect"==t.data.type?a("multi-select-input",{attrs:{id:t.data.id,name:t.data.name,options:t.data.options}}):t._e()],1)},Tt=[],Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"block my-5"},[a("span",{staticClass:"text-gray-700"},[t._v(t._s(t.name))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],staticClass:"form-multiselect block w-full mt-1 rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",attrs:{multiple:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.modelValue=e.target.multiple?a:a[0]}}},t._l(t.options,(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])})),0)])},Nt=[],Gt={name:"MultiSelectInput",props:{id:String,name:String,options:Array},methods:Object(u["a"])({},Object(d["b"])(["setInputComponentData"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getInputComponentData"])),{},{modelValue:{get:function(){return this.getInputComponentData(this.id).value},set:function(t){this.setInputComponentData({id:this.id,value:t})}}})},Rt=Gt,Wt=Object(O["a"])(Rt,Pt,Nt,!1,null,null,null),Ht=Wt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"block my-5"},[a("span",{staticClass:"text-gray-700"},[t._v(t._s(t.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],staticClass:"form-input mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",attrs:{type:"number"},domProps:{value:t.modelValue},on:{input:function(e){e.target.composing||(t.modelValue=e.target.value)}}})])},Ut=[],qt={name:"NumberInput",props:{id:String,name:String},methods:Object(u["a"])({},Object(d["b"])(["setInputComponentData"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getInputComponentData"])),{},{modelValue:{get:function(){return this.getInputComponentData(this.id).value},set:function(t){this.setInputComponentData({id:this.id,value:t})}}})},Zt=qt,Kt=(a("190c"),Object(O["a"])(Zt,Jt,Ut,!1,null,"038db2e0",null)),Qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"block my-5"},[a("span",{staticClass:"text-gray-700"},[t._v(t._s(t.name))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],staticClass:"form-select block w-full mt-1 rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.modelValue=e.target.multiple?a:a[0]}}},t._l(t.options,(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])})),0)])},Yt=[],te={name:"SelectInput",props:{id:String,name:String,options:Array},methods:Object(u["a"])({},Object(d["b"])(["setInputComponentData"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getInputComponentData"])),{},{modelValue:{get:function(){return this.getInputComponentData(this.id).value},set:function(t){this.setInputComponentData({id:this.id,value:t})}}})},ee=te,ae=Object(O["a"])(ee,Xt,Yt,!1,null,null,null),ne=ae.exports,re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"block my-5"},[a("span",{staticClass:"text-gray-700"},[t._v(t._s(t.name))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],staticClass:"form-input mt-1 block w-full rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",attrs:{type:"text"},domProps:{value:t.modelValue},on:{input:function(e){e.target.composing||(t.modelValue=e.target.value)}}})])},oe=[],ie={name:"TextInput",props:{id:String,name:String},methods:Object(u["a"])({},Object(d["b"])(["setInputComponentData"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getInputComponentData"])),{},{modelValue:{get:function(){return this.getInputComponentData(this.id).value},set:function(t){this.setInputComponentData({id:this.id,value:t})}}})},se=ie,le=Object(O["a"])(se,re,oe,!1,null,"9dbb9262",null),ce=le.exports,ue={name:"InputControl",props:{data:Object},components:{NumberInput:Qt,SelectInput:ne,MultiSelectInput:Ht,TextInput:ce}},de=ue,pe=Object(O["a"])(de,zt,Tt,!1,null,null,null),me=pe.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["BarChart"==t.data.type?a("bar-chart",{attrs:{id:t.data.id,name:t.data.name,description:t.data.description,chartData:t.data.chartdata}}):t._e(),"LineChart"==t.data.type?a("line-chart",{attrs:{id:t.data.id,name:t.data.name,description:t.data.description,chartData:t.data.chartdata}}):t._e()],1)},he=[],be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-10 mx-2"},[a("p",{staticClass:"text-xl my-1"},[t._v(t._s(t.name))]),a("p",{staticClass:"text-base my-1"},[t._v(t._s(t.description))]),t.highlightStatus?a("p",{staticClass:"text-sm my-1"},[t._v(" Selected: "+t._s(t.selectedData.dataLabel)+", "+t._s(t.selectedData.dataValue)+" of "+t._s(t.selectedData.datasetLabel)+" "),a("button",{staticClass:"mx-2 my-2 bg-white transition duration-150 ease-in-out hover:bg-gray-100 rounded text-indigo-700 px-3 py-1 text-sm focus:outline-none",on:{click:t.resetClick}},[t._v(" Reset ")])]):t._e(),a("bar-chart-extends",{staticStyle:{height:"250px"},attrs:{chartData:t.chartData,baseColor:t.baseColor,highlightStatus:t.highlightStatus},on:{highlightEvent:t.handleHighlightEvent}})],1)},ge=[],ye=(a("cb29"),a("1fca")),ve=a("3835"),we=(a("ac1f"),a("1276"),a("fb6a"),a("25f0"),function(t,e,a,n){var r,o,i,s,l,c,u,d=parseInt,p=Math.round,m="string"==typeof a;if("number"!=typeof t||t<-1||t>1||"string"!=typeof e||"r"!=e[0]&&"#"!=e[0]||a&&!m)return null;var f=function(t){var e=t.length,a={};if(e>9){var n,s;if(n=t=t.split(","),s=Object(ve["a"])(n,4),r=s[0],o=s[1],i=s[2],m=s[3],e=t.length,e<3||e>4)return null;a.r=d("a"==r[3]?r.slice(5):r.slice(4)),a.g=d(o),a.b=d(i),a.a=m?parseFloat(m):-1}else{if(8==e||6==e||e<4)return null;e<6&&(t="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+(e>4?t[4]+t[4]:"")),t=d(t.slice(1),16),9==e||5==e?(a.r=t>>24&255,a.g=t>>16&255,a.b=t>>8&255,a.a=p((255&t)/.255)/1e3):(a.r=t>>16,a.g=t>>8&255,a.b=255&t,a.a=-1)}return a};return u=e.length>9,u=m?a.length>9||"c"==a&&!u:u,l=f(e),s=t<0,c=a&&"c"!=a?f(a):s?{r:0,g:0,b:0,a:-1}:{r:255,g:255,b:255,a:-1},t=s?-1*t:t,s=1-t,l&&c?(n?(r=p(s*l.r+t*c.r),o=p(s*l.g+t*c.g),i=p(s*l.b+t*c.b)):(r=p(Math.pow(s*Math.pow(l.r,2)+t*Math.pow(c.r,2),.5)),o=p(Math.pow(s*Math.pow(l.g,2)+t*Math.pow(c.g,2),.5)),i=p(Math.pow(s*Math.pow(l.b,2)+t*Math.pow(c.b,2),.5))),m=l.a,c=c.a,l=m>=0||c>=0,m=l?m<0?c:c<0?m:m*s+c*t:0,u?"rgb"+(l?"a(":"(")+r+","+o+","+i+(l?","+p(1e3*m)/1e3:"")+")":"#"+(4294967296+16777216*r+65536*o+256*i+(l?p(255*m):0)).toString(16).slice(1,l?void 0:-2)):null}),Ce={extends:ye["a"],props:{chartData:Object,baseColor:Array,highlightStatus:Boolean},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1,onClick:null}}},watch:{highlightStatus:function(){this.highlightStatus||this.unhighlightBar()}},methods:{handleChartClick:function(t,e){if(0!==e.length){var a=this.$data._chart,n=a.getElementAtEvent(t)[0],r=n._datasetIndex,o=n._model.datasetLabel,i=n._index,s=n._model.label,l=n._chart.data.datasets[r].data[i],c={datasetIndex:r,datasetLabel:o,dataIndex:i,dataLabel:s,dataValue:l};this.highlightBar(r,i),this.$emit("highlightEvent",{status:!0,clickData:c})}},highlightBar:function(t,e){var a=this;this.$data._chart.data.datasets.forEach((function(n,r){for(var o=0;o<n.backgroundColor.length;o++)n.backgroundColor[o]=we(r===t&&o===e?-.1:.7,a.baseColor[t])})),this.$data._chart.update()},unhighlightBar:function(){var t=this;this.$data._chart.data.datasets.forEach((function(e,a){for(var n=0;n<e.backgroundColor.length;n++)e.backgroundColor[n]=t.baseColor[a]})),this.$data._chart.update(),this.highlight=!1}},created:function(){this.chartOptions.onClick=this.handleChartClick},mounted:function(){this.renderChart(this.chartData,this.chartOptions)}},De=Ce,je=Object(O["a"])(De,n,r,!1,null,null,null),_e=je.exports,xe={name:"BarChart",props:{id:String,name:String,description:String,chartData:Object},components:{BarChartExtends:_e},data:function(){return{baseColor:[],highlightStatus:!1,selectedData:{}}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setChartEventData"])),{},{resetClick:function(){this.highlightStatus=!1,this.selectedData={}},handleHighlightEvent:function(t){this.highlightStatus=t.status,this.selectedData=t.clickData,this.setChartEventData(t.clickData)}}),created:function(){var t=this;this.baseColor=new Array(this.chartData.datasets.length).fill("#CCCCCC"),this.chartData.datasets.forEach((function(e,a){e.data.length>1?e.backgroundColor.constructor!==Array?(t.baseColor[a]=e.backgroundColor,e.backgroundColor=new Array(e.data.length).fill(e.backgroundColor)):e.backgroundColor.length!==e.data.length&&(t.baseColor[a]=e.backgroundColor[0],e.backgroundColor=new Array(e.data.length).fill(e.backgroundColor[0])):e.backgroundColor.constructor===Array?t.baseColor[a]=e.backgroundColor[0]:t.baseColor[a]=e.backgroundColor}))}},Oe=xe,Le=Object(O["a"])(Oe,be,ge,!1,null,null,null),Ie=Le.exports,ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-10 mx-2"},[a("p",{staticClass:"text-xl my-1"},[t._v(t._s(t.name))]),a("p",{staticClass:"text-base my-1"},[t._v(t._s(t.description))]),t.highlightStatus?a("p",{staticClass:"text-sm my-1"},[t._v(" Selected: "+t._s(t.selectedData.dataLabel)+", "+t._s(t.selectedData.dataValue)+" of "+t._s(t.selectedData.datasetLabel)+" "),a("button",{staticClass:"mx-2 my-2 bg-white transition duration-150 ease-in-out hover:bg-gray-100 rounded text-indigo-700 px-3 py-1 text-sm focus:outline-none",on:{click:t.resetClick}},[t._v(" Reset ")])]):t._e(),a("line-chart-extends",{staticStyle:{height:"250px"},attrs:{chartData:t.chartData,baseColor:t.baseColor,highlightStatus:t.highlightStatus},on:{highlightEvent:t.handleHighlightEvent}})],1)},Se=[],Ee={extends:ye["b"],props:{chartData:Object,baseColor:Array,highlightStatus:Boolean},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1,onClick:null}}},watch:{highlightStatus:function(){this.highlightStatus||this.unhighlightBar()}},methods:{handleChartClick:function(t,e){if(0!==e.length){var a=this.$data._chart,n=a.getElementAtEvent(t)[0],r=n._datasetIndex,o=n._model.datasetLabel,i=n._index,s=n._model.label,l=n._chart.data.datasets[r].data[i],c={datasetIndex:r,datasetLabel:o,dataIndex:i,dataLabel:s,dataValue:l};this.highlightBar(r,i),this.$emit("highlightEvent",{status:!0,clickData:c})}},highlightBar:function(t,e){var a=this;this.$data._chart.data.datasets.forEach((function(n,r){for(var o=0;o<n.backgroundColor.length;o++)n.backgroundColor[o]=we(r===t&&o===e?-.1:.7,a.baseColor[t])})),this.$data._chart.update()},unhighlightBar:function(){var t=this;this.$data._chart.data.datasets.forEach((function(e,a){for(var n=0;n<e.backgroundColor.length;n++)e.backgroundColor[n]=t.baseColor[a]})),this.$data._chart.update(),this.highlight=!1}},created:function(){this.chartOptions.onClick=this.handleChartClick},mounted:function(){this.renderChart(this.chartData,this.chartOptions)}},Fe=Ee,Ae=Object(O["a"])(Fe,o,i,!1,null,null,null),Me=Ae.exports,Ve={name:"LineChart",props:{id:String,name:String,description:String,chartData:Object},components:{LineChartExtends:Me},data:function(){return{baseColor:[],highlightStatus:!1,selectedData:{}}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setChartEventData"])),{},{resetClick:function(){this.highlightStatus=!1,this.selectedData={}},handleHighlightEvent:function(t){this.highlightStatus=t.status,this.selectedData=t.clickData,this.setChartEventData(t.clickData)}}),created:function(){var t=this;this.baseColor=new Array(this.chartData.datasets.length).fill("#CCCCCC"),this.chartData.datasets.forEach((function(e,a){e.fill=!1,e.data.length>1?e.backgroundColor.constructor!==Array?(t.baseColor[a]=e.backgroundColor,e.backgroundColor=new Array(e.data.length).fill(e.backgroundColor)):e.backgroundColor.length!==e.data.length&&(t.baseColor[a]=e.backgroundColor[0],e.backgroundColor=new Array(e.data.length).fill(e.backgroundColor[0])):e.backgroundColor.constructor===Array?t.baseColor[a]=e.backgroundColor[0]:t.baseColor[a]=e.backgroundColor}))}},$e=Ve,Be=Object(O["a"])($e,ke,Se,!1,null,null,null),ze=Be.exports,Te={name:"ChartControl",props:{data:Object},components:{BarChart:Ie,LineChart:ze},data:function(){return{chartTetst1:{labels:["January","February","March","April"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,20,30,50]},{label:"Data Two",backgroundColor:"#f87979",data:[20,10,60,40]}]},chartTetst2:{labels:["May","June","July","August"],datasets:[{label:"Data Three",backgroundColor:"#f87979",data:[60,80,50,20]},{label:"Data Four",backgroundColor:"#f87979",data:[10,50,30,80]}]}}}},Pe=Te,Ne=Object(O["a"])(Pe,fe,he,!1,null,null,null),Ge=Ne.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block my-5 border-2 rounded",class:t.collapse?"border-white":"border-gray-100"},[a("div",{staticClass:"flex flex-row justify-between items-center cursor-pointer bg-gray-100 rounded px-3 py-3 transition-all duration-500",on:{click:function(e){t.collapse=!t.collapse}}},[a("p",[t._v("Draw feature control")]),a("span",{staticClass:"fill-current h-6 w-6 transform transition-transform duration-500",class:t.collapse?"rotate-0":"rotate-180"},[a("unicon",{class:t.collapse?"animate-bounce":"",attrs:{name:"angle-down",fill:"black"}})],1)]),a("div",{staticClass:"overflow-hidden transition-all duration-500 pl-5 pt-2 pr-2",class:t.collapse?"max-h-0":"max-h-96"},[a("label",{staticClass:"block mb-3"},[a("span",{staticClass:"text-gray-700"},[t._v("Select the layer")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.modelValue,expression:"modelValue"}],staticClass:"form-multiselect block w-full mt-1 rounded-md bg-gray-100 border-transparent focus:border-gray-500 focus:bg-white focus:ring-0",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.modelValue=e.target.multiple?a:a[0]}}},t._l(t.drawLayerOptions,(function(e,n){return a("option",{key:n,domProps:{value:e}},[t._v(t._s(e))])})),0)]),a("span",{staticClass:"text-gray-700"},[t._v("Layer: "+t._s(t.modelValue))]),a("div",{staticClass:"bg-gray-100 my-2 py-2 px-4 rounded-md max-h-72 overflow-auto"},[t.activeFeaturesDrawn.length?t._e():a("div",[t._v(" No features drawn. ")]),t._l(t.activeFeaturesDrawn,(function(e,n){return a("div",{key:n,staticClass:"my-2"},[a("p",{staticClass:"text-lg my-1"},[a("span",{staticClass:"font-medium"},[t._v(t._s(e.type))]),t._v(" with id: "+t._s(e.id)+" ")]),t._l(e.latlngs,(function(e,n){return a("p",{key:n,staticClass:"text-sm"},[t._v(" "+t._s(e)+" ")])}))],2)}))],2)])])},We=[],He=(a("b0c0"),{name:"DrawFeatureControl",data:function(){return{collapse:!0}},methods:Object(u["a"])({},Object(d["b"])(["activateDrawFeatureLayer"])),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getDrawFeatureData"])),{},{drawLayerOptions:function(){var t=[];return this.getDrawFeatureData.forEach((function(e){t.push(e.name)})),t},activeFeaturesDrawn:function(){return this.getDrawFeatureData.find((function(t){return 1==t.active})).featuresDrawn},modelValue:{get:function(){return this.getDrawFeatureData.find((function(t){return 1==t.active})).name},set:function(t){this.activateDrawFeatureLayer(t),Q.$emit("changeDrawFeatureLayer")}}})}),Je=He,Ue=Object(O["a"])(Je,Re,We,!1,null,null,null),qe=Ue.exports,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["Display"==t.data.type&&"title"!=t.data.name&&"description"!=t.data.name?a("markdown-display",{attrs:{id:t.data.id,name:t.data.name,value:t.data.value}}):t._e()],1)},Ke=[],Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"prose-sm block my-5"},[a("VueShowdown",{attrs:{markdown:t.value}})],1)},Xe=[],Ye={name:"MarkdownDisplay",props:{id:String,name:String,value:String},methods:{},computed:{}},ta=Ye,ea=Object(O["a"])(ta,Qe,Xe,!1,null,"01dd6093",null),aa=ea.exports,na={name:"DisplayControl",props:{data:Object},components:{MarkdownDisplay:aa}},ra=na,oa=Object(O["a"])(ra,Ze,Ke,!1,null,null,null),ia=oa.exports,sa={name:"LeftContainer",data:function(){return{leftContainerOpen:!0}},components:{LayerControl:Bt,InputControl:me,ChartControl:Ge,DrawFeatureControl:qe,DisplayControl:ia},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["postAPI","setAppInfo"])),{},{toggleLeftContainer:function(){this.leftContainerOpen=!this.leftContainerOpen,this.getComponentStatus.mapComponent&&Q.$emit("resetMapContainerSize")},toggleAppInfoModal:function(){this.setAppInfo({modal:!0})}}),computed:Object(d["c"])(["getInputComponentInfo","getComponentStatus","getInputMutation","getAppInfo"])},la=sa,ca=(a("b2dd"),Object(O["a"])(la,yt,vt,!1,null,"479ca694",null)),ua=ca.exports,da=function(){var t=this,e=t.$createElement;t._self._c;return t._e()},pa=[],ma={name:"RightContainer",components:{},data:function(){return{rightContainerOpen:!1}},methods:{toggleRightContainer:function(){this.rightContainerOpen=!this.rightContainerOpen,this.getComponentStatus.mapComponent&&Q.$emit("resetMapContainerSize")}},computed:Object(d["c"])(["getComponentStatus"])},fa=ma,ha=(a("e06e"),Object(O["a"])(fa,da,pa,!1,null,"46035638",null)),ba=ha.exports,ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-screen fixed top-0 left-0 w-screen h-screen bg-gray-900 bg-opacity-30"},[a("div",{staticClass:"bg-white flex rounded w-3/4 md:w-1/2 relative mx-auto mt-10",staticStyle:{"max-height":"calc(90% - 2.5rem)"}},[a("div",{staticClass:"flex flex-col items-start py-3 px-5"},[a("button",{staticClass:"absolute top-3 right-3 w-5 h-5 cursor-pointer",attrs:{type:"button"},on:{click:t.closeModal}},[a("unicon",{attrs:{name:"multiply",fill:"black",width:"20px"}})],1),a("div",{staticClass:"py-3 px-1 flex justify-between items-center w-full text-gray-900 font-medium text-2xl"},[t.getAppInfo.title?a("p",[t._v(t._s(t.getAppInfo.title))]):a("p",[t._v("A geospatial app")])]),a("div",{staticClass:"py-3 pl-3 pr-4 p overflow-x-hidden overflow-y-auto"},[a("VueShowdown",{staticClass:"prose",attrs:{markdown:t.getAppDescription}})],1)])])])},ya=[],va=(a("a4d3"),a("e01a"),{name:"AppInfoModal",methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])(["setAppInfo"])),{},{closeModal:function(){this.setAppInfo({modal:!1})}}),computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])(["getAppInfo"])),{},{getAppDescription:function(){return this.getAppInfo.description?this.getAppInfo.description:"## Geospatial app \n A geospatial application built using Greppo. \n For more information, check out: \n - Documentation at [docs.greppo.io](https://docs.greppo.io) \n - Website at [greppo.io](https://greppo.io) \n - GitHub repo at [github.com/greppo-io](https://github.com/greppo-io/greppo)"}})}),wa=va,Ca=(a("3508"),Object(O["a"])(wa,ga,ya,!1,null,"58a298f2",null)),Da=Ca.exports,ja={name:"BaseContainer",components:{CenterContainer:gt,LeftContainer:ua,RightContainer:ba,AppInfoModal:Da},computed:Object(u["a"])({},Object(d["c"])(["getComponentStatus","getAppInfo"]))},_a=ja,xa=Object(O["a"])(_a,p,m,!1,null,null,null),Oa=xa.exports,La=(a("ba8c"),{name:"App",components:{BaseContainer:Oa},methods:Object(u["a"])({},Object(d["b"])(["getAPI"])),created:function(){this.getAPI()}}),Ia=La,ka=Object(O["a"])(Ia,l,c,!1,null,null,null),Sa=ka.exports,Ea=a("1da1"),Fa=(a("96cf"),a("a9e3"),a("d81d"),a("a434"),a("bc3a")),Aa=a.n(Fa),Ma={Status:1,ComponentStatus:{baseLayer:!1,tileLayer:!1,wmstileLayer:!1,vectorLayer:!1,overlayLayer:!1,imageLayer:!1,mapComponent:!1,inputComponent:!1,drawFeature:!1},AppInfo:{modal:!1,title:null,description:null},ErrorModal:{status:!1,message:""},VectorLayerData:null,ImageLayerData:null,BaseLayerData:null,TileLayerData:null,WMSTileLayerData:null,OverlayLayerInfo:null,ChartEventData:null,InputComponentInfo:null,DrawFeatureData:{id:"draw-feature-id",name:"Default features",features:[],mutation:!1,active:!1,featuresDrawn:[]},InputMutation:!1},Va={getStatus:function(t){return t.Status},getAppInfo:function(t){return t.AppInfo},getInfoModal:function(t){return t.InfoModal},getErrorModal:function(t){return t.ErrorModal},getComponentStatus:function(t){return t.ComponentStatus},getVectorLayerData:function(t){return t.VectorLayerData},getBaseLayerData:function(t){return t.BaseLayerData},getTileLayerData:function(t){return t.TileLayerData},getWMSTileLayerData:function(t){return t.WMSTileLayerData},getOverlayLayerInfo:function(t){return t.OverlayLayerInfo},getChartEventData:function(t){return t.ChartEventData},getLayerVisibility:function(t){return function(e){return t.OverlayLayerInfo.find((function(t){return t.id==e})).visible}},getInputComponentInfo:function(t){return t.InputComponentInfo},getInputComponentData:function(t){return function(e){return t.InputComponentInfo.find((function(t){return t.id==e}))}},getInputMutation:function(t){return t.InputMutation},getDrawFeatureData:function(t){return t.DrawFeatureData},getImageLayerData:function(t){return t.ImageLayerData}},$a={setAppInfo:function(t,e){var a=t.commit,n=t.state,r=n.AppInfo;"modal"in e&&(r.modal=e.modal),"title"in e&&(r.title=e.title),"description"in e&&(r.description=e.description),a("commitAppInfo",r)},setErrorModal:function(t,e){var a=t.commit,n=t.state,r=n.ErrorModal;"status"in e&&(r.status=e.status),"message"in e&&(r.message=e.message),a("commitErrorModal",r)},getAPI:function(t){return Object(Ea["a"])(regeneratorRuntime.mark((function e(){var a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,n=t.dispatch,e.prev=1,e.next=4,Aa.a.get("/api");case 4:r=e.sent,n("commitResponseData",r),a("commitStatus",2),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("Error in getting data.",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},postAPI:function(t){return Object(Ea["a"])(regeneratorRuntime.mark((function e(){var a,n,r,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=function(t){return{id:t.id,type:t.type,latlngs:t.latlngs}},a=t.commit,n=t.state,r=t.dispatch,o={},n.InputComponentInfo.forEach((function(t){t.mutate&&("Number"==t.type?o[t.name]=Number(t.value):o[t.name]=t.value)})),n.DrawFeatureData.forEach((function(t){t.mutation&&(o[t.name]=t.featuresDrawn.map(i))})),Aa.a.post("/api",o).then((function(t){r("commitResponseData",t),a("commitInputMutation",!1),Q.$emit("reInitializeDrawFeature")})).catch((function(t){console.log("Error in posting data.",t)}));case 6:case"end":return e.stop()}}),e)})))()},commitResponseData:function(t,e){var a=t.commit,n=t.state,r=t.dispatch,o=n.ComponentStatus;console.log(e.data);var i=e.data.base_layer_data,s=e.data.tile_layer_data,l=e.data.wms_tile_layer_data,c=e.data.vector_layer_data,u=e.data.image_layer_data,d=e.data.component_info,p=[];if(i.length&&(o.baseLayer=!0,a("commitBaseLayerData",i)),s.length&&(o.tileLayer=!0,o.overlayLayer=!0,a("commitTileLayerData",s),s.forEach((function(t){p.push({id:t.id,name:t.name,description:t.description,visible:t.visible,bounds:[],color:"#10B981"})}))),l.length&&(o.wmstileLayer=!0,o.overlayLayer=!0,a("commitWMSTileLayerData",l),l.forEach((function(t){p.push({id:t.id,name:t.name,description:t.description,visible:t.visible,bounds:[],color:"#10B981"})}))),u.length&&(o.imageLayer=!0,o.overlayLayer=!0,a("commitImageLayerData",u),u.forEach((function(t){p.push({id:t.id,name:t.name,description:t.description,visible:t.visible,bounds:t.bounds,color:"#10B981"})}))),c.length&&(o.vectorLayer=!0,o.overlayLayer=!0,a("commitVectorLayerData",c),c.forEach((function(t){p.push({id:t.id,name:t.name,description:t.description,visible:t.visible,bounds:t.bounds,color:"#10B981"})}))),a("commitOverlayLayerInfo",p),d.length){o.inputComponent=!0,a("commitInputComponentInfo",d);var m=[],f=!0;d.forEach((function(t){"DrawFeature"===t.type&&(m.push({id:t.id,name:t.name,geometry:t.geometry,features:t.features,mutation:!1,active:f,featuresDrawn:[]}),f&&(f=!f)),"Display"===t.type&&("title"===t.name&&r("setAppInfo",{title:t.value}),"description"===t.name&&r("setAppInfo",{description:t.value}))})),m.length&&(o.drawFeature=!0,a("commitDrawFeatureData",m))}(o.baseLayer||o.overlayLayer||o.drawFeature)&&(o.mapComponent=!0),a("commitComponentStatus",o)},setBaseLayerVisibility:function(t,e){var a=t.commit;a("updateBaseLayerVisibility",e)},setOverlayLayerVisibility:function(t,e){var a=t.commit;a("updateOverlayLayerVisibility",e)},setChartEventData:function(t,e){var a=t.commit;a("commitChartEventData",e)},setInputComponentData:function(t,e){var a=t.commit,n=t.state;n.InputMutation||a("commitInputMutation",!0),a("updateInputComponentData",e)},activateDrawFeatureLayer:function(t,e){var a=t.commit,n=t.state,r=n.DrawFeatureData;r.forEach((function(t){t.name==e?t.active=!0:t.active=!1})),a("commitDrawFeatureData",r)},setDrawFeatureDrawn:function(t,e){var a=t.commit,n=t.state,r=n.DrawFeatureData;e.forEach((function(t){var e=r.findIndex((function(e){return e.id===t.drawFeatureID}));-1!==e&&(r[e].featuresDrawn=t.featuresDrawn)})),a("commitDrawFeatureData",r)},addDrawFeature:function(t,e){var a=t.commit,n=t.state,r=e.newFeature,o=e.drawFeatureID,i=n.DrawFeatureData,s=i.findIndex((function(t){return t.id===o}));-1!==s&&(i[s].featuresDrawn.push(r),i[s].mutation||(i[s].mutation=!0),n.InputMutation||a("commitInputMutation",!0)),a("commitDrawFeatureData",i)},editDrawFeature:function(t,e){var a=t.commit,n=t.state,r=e.editFeatures,o=e.drawFeatureID,i=n.DrawFeatureData,s=i.findIndex((function(t){return t.id===o}));-1!==s&&(r.forEach((function(t){var e=i[s].featuresDrawn.findIndex((function(e){return e.id===t.id}));-1!==e&&(i[s].featuresDrawn[e].latlngs=t.latlngs,i[s].featuresDrawn[e].layer=t.layer)})),i[s].mutation||(i[s].mutation=!0),n.InputMutation||a("commitInputMutation",!0)),a("commitDrawFeatureData",i)},deleteDrawFeature:function(t,e){var a=t.commit,n=t.state,r=e.deleteFeatures,o=e.drawFeatureID,i=n.DrawFeatureData,s=i.findIndex((function(t){return t.id===o}));-1!==s&&(r.forEach((function(t){var e=i[s].featuresDrawn.findIndex((function(e){return e.id===t.id}));-1!==e&&i[s].featuresDrawn.splice(e,1)})),i[s].mutation||(i[s].mutation=!0),n.InputMutation||a("commitInputMutation",!0)),a("commitDrawFeatureData",i)}},Ba={commitStatus:function(t,e){t.Status=e},commitComponentStatus:function(t,e){t.ComponentStatus=e},commitAppInfo:function(t,e){t.AppInfo=e},commitErrorModal:function(t,e){t.ErrorModal=e},commitVectorLayerData:function(t,e){t.VectorLayerData=e},commitBaseLayerData:function(t,e){t.BaseLayerData=e},commitTileLayerData:function(t,e){t.TileLayerData=e},commitWMSTileLayerData:function(t,e){t.WMSTileLayerData=e},commitOverlayLayerInfo:function(t,e){t.OverlayLayerInfo=e},commitInputMutation:function(t,e){t.InputMutation=e},commitChartEventData:function(t,e){t.ChartEventData=e},updateOverlayLayerVisibility:function(t,e){var a=t.OverlayLayerInfo.findIndex((function(t){return t.id===e.id}));-1!==a&&(t.OverlayLayerInfo[a].visible=e.visible)},updateBaseLayerVisibility:function(t,e){t.BaseLayerData.forEach((function(t){t.id==e?t.visible=!0:t.visible=!1}))},updateInputComponentData:function(t,e){t.InputComponentInfo.forEach((function(t){t.id==e.id&&(t.mutate||(t.mutate=!0,t.oldValue=t.value),t.value=e.value)}))},commitInputComponentInfo:function(t,e){t.InputComponentInfo=e},commitDrawFeatureData:function(t,e){t.DrawFeatureData=e},commitImageLayerData:function(t,e){t.ImageLayerData=e}},za={state:Ma,getters:Va,actions:$a,mutations:Ba};s["a"].use(d["a"]);var Ta=new d["a"].Store({modules:{BackendAPI:za}}),Pa=a("cb81"),Na=a.n(Pa),Ga=a("d327");Na.a.add([Ga["e"],Ga["f"],Ga["d"],Ga["c"],Ga["b"],Ga["a"],Ga["g"],Ga["i"],Ga["j"],Ga["h"]]),s["a"].use(Na.a);var Ra=a("f206"),Wa=a("866c"),Ha=a.n(Wa);s["a"].component("ToggleButton",Ra["ToggleButton"]),s["a"].use(Ha.a),s["a"].config.productionTip=!1,new s["a"]({store:Ta,render:function(t){return t(Sa)}}).$mount("#app")},6504:function(t,e,a){},"6faf":function(t,e,a){},"9b19":function(t,e,a){t.exports=a.p+"img/logo.824287d2.svg"},a272:function(t,e,a){"use strict";a("a7c1")},a7c1:function(t,e,a){},b2dd:function(t,e,a){"use strict";a("38a7")},ba8c:function(t,e,a){},bd03:function(t,e,a){t.exports=a.p+"img/marker.d242732c.svg"},c229:function(t,e,a){"use strict";a("efb2")},c518:function(t,e,a){},e06e:function(t,e,a){"use strict";a("c518")},efb2:function(t,e,a){}});
//# sourceMappingURL=app.aeabd7fe.js.map